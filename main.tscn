[gd_scene load_steps=16 format=2]

[ext_resource path="res://Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://HM2CustomLevel.tscn" type="PackedScene" id=2]
[ext_resource path="res://PlayerCamera.gd" type="Script" id=3]
[ext_resource path="res://icon.png" type="Texture" id=4]
[ext_resource path="res://UINoise.gd" type="Script" id=7]
[ext_resource path="res://BackgroundColor.gd" type="Script" id=8]
[ext_resource path="res://radial gradient 512.png" type="Texture" id=9]
[ext_resource path="res://UIFlicker.gd" type="Script" id=10]
[ext_resource path="res://Enemy.tscn" type="PackedScene" id=11]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;
render_mode blend_sub;

uniform vec4 black : hint_color = vec4(1);
uniform vec4 white : hint_color = vec4(1);

void fragment() {
	vec4 col = texture(TEXTURE, UV);
	COLOR = mix(black, white, col.r);
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/black = Color( 0, 0.261389, 0.630695, 1 )
shader_param/white = Color( 0, 0, 0, 1 )

[sub_resource type="CanvasItemMaterial" id=3]
blend_mode = 2

[sub_resource type="QuadMesh" id=4]

[sub_resource type="Gradient" id=5]
colors = PoolColorArray( 0, 0, 0, 1, 0.0860043, 0.548284, 0.5917, 1 )

[sub_resource type="GradientTexture" id=6]
gradient = SubResource( 5 )
width = 400

[node name="main" type="Node"]

[node name="UI" type="CanvasLayer" parent="."]
layer = 113

[node name="Control" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
rect_clip_content = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LightFlicker" type="Sprite" parent="UI/Control"]
self_modulate = Color( 1, 1, 1, 0.0509804 )
material = SubResource( 2 )
position = Vector2( 240, 127 )
scale = Vector2( 1.05972, 1.05972 )
texture = ExtResource( 9 )
script = ExtResource( 10 )

[node name="Noise" type="NinePatchRect" parent="UI/Control"]
modulate = Color( 1, 1, 1, 0.247059 )
material = SubResource( 3 )
anchor_right = 1.0
anchor_bottom = 1.0
axis_stretch_horizontal = 1
axis_stretch_vertical = 1
script = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 240, 127 )
current = true
script = ExtResource( 3 )

[node name="icon" type="Sprite" parent="."]
position = Vector2( 135, 181 )
texture = ExtResource( 4 )

[node name="Level" parent="." instance=ExtResource( 2 )]

[node name="Enemy" parent="." instance=ExtResource( 11 )]
position = Vector2( 324.481, 242.426 )

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 119.962, 87.7917 )
myspeed = 3.5
_weapon = 5

[node name="Background" type="ParallaxBackground" parent="."]
layer = -128
follow_viewport_scale = 0.0
scroll_ignore_camera_zoom = true

[node name="ViewportContainer" type="ViewportContainer" parent="Background"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="Background/ViewportContainer"]
size = Vector2( 480, 256 )
own_world = true
transparent_bg = true
handle_input_locally = false
disable_3d = true
usage = 0
render_target_update_mode = 3
gui_disable_input = true

[node name="icon2" type="Sprite" parent="Background/ViewportContainer/Viewport"]
visible = false
position = Vector2( 100, 100 )
texture = ExtResource( 4 )

[node name="MeshInstance2D" type="MeshInstance2D" parent="Background/ViewportContainer/Viewport"]
position = Vector2( 240, 127 )
rotation = -1.5708
scale = Vector2( 375, 600 )
mesh = SubResource( 4 )
texture = SubResource( 6 )
script = ExtResource( 8 )
